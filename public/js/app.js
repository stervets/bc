// Generated by CoffeeScript 1.7.1
(function() {
  this.Application = (function() {
    Application.Controller = {};

    Application.states = {};

    Application.initialState = null;

    Application.State = function(name, params, initialState) {
      this.states[name] = params;
      if (initialState != null) {
        return this.initialState = name;
      }
    };

    Application.image = function(filename) {
      return ASSETS.IMAGES + filename;
    };

    Application.getNameFromFilename = function(filename, name) {
      if (name == null) {
        name = filename.substr(0, filename.indexOf('.'));
      }
      return name;
    };

    Application.prototype.loadImage = function(filename, name) {
      return this.game.load.image(Application.getNameFromFilename(filename, name), Application.image(filename));
    };

    Application.prototype.loadSpriteSheet = function(filename, width, height, name) {
      return this.game.load.spritesheet(Application.getNameFromFilename(filename, name), Application.image(filename), width, height);
    };

    Application.prototype.vars = {
      topScore: 0
    };

    function Application() {
      var name, state, _ref;
      this.game = new Phaser.Game(GAME.WIDTH, GAME.HEIGHT, Phaser.WEBGL, GAME.GAME_NODE);
      _ref = Application.states;
      for (name in _ref) {
        state = _ref[name];
        state = this.game.state.add(name, state);
        state.app = this;
        state.vars = this.vars;
      }
      this.game.state.start(Application.initialState);
    }

    return Application;

  })();

  window.onload = function() {
    return new Application();
  };

}).call(this);

//# sourceMappingURL=app.map
